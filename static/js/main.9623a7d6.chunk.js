(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{167:function(e,t,n){e.exports=n(347)},172:function(e,t,n){},337:function(e,t,n){},338:function(e,t,n){},340:function(e,t,n){},341:function(e,t,n){},342:function(e,t,n){},343:function(e,t,n){},344:function(e,t,n){},345:function(e,t,n){},346:function(e,t,n){},347:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(27),o=n.n(i),c=(n(172),n(127)),l=n(128),s=n(165),u=n(129),d=n(166),p=n(24),f=n(31),E=n(32),m=n(131),g=n(132),v=n(6),h=["ADD ARTICLE","REMOVE ARTICLE","UPDATE ARTICLE","ADD ARTICLE AND STOCK","ADD ARTICLE AND SALE","ADD SALE","ADD STOCK","REMOVE STOCK","REMOVE SALE","INCORRECT PRICE","REMOVE PRICE","ADD PRICE","ADD UPDATE ARTICLE","DESIGNATION EXIST ERROR","FILE ERROR"],C=function(e){return{message:e,variant:"info",open:!0}},b={"ADD ARTICLE":C("article enregistr\xe9"),"ADD STOCK":C("stock enregistr\xe9"),"ADD SALE":C("vente enregistr\xe9e"),"ADD ARTICLE AND SALE":C("article et vente enregistr\xe9s"),"ADD ARTICLE AND STOCK":C("article et stock enregistr\xe9s"),"REMOVE ARTICLE":C("article supprim\xe9"),"REMOVE STOCK":C("stock supprim\xe9"),"REMOVE SALE":C("vente supprim\xe9e"),"ADD PRICE":C("prix ajout\xe9"),"REMOVE PRICE":C("prix retir\xe9"),"INCORRECT PRICE":C("le prix ou la quantit\xe9 ne peut pas etre en dessous de 1"),"ADD UPDATE ARTICLE":C("l'article est mis \xe0 jour"),"DESIGNATION EXIST ERROR":C("Cette designation est deja inscrit dans le syst\xe8me"),"FILE ERROR":C("Fichier corrompu")},O=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;return e.some(function(e){return e===t})},P=Object(E.c)({filter:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return"TOGGLE FILTER"!==(arguments.length>1?arguments[1]:void 0).type?e:!e},notification:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(arguments.length>1?arguments[1]:void 0).type;return O(h,t)?b[t]:"TOGGLE NOTIFICATION"!==t?e:Object(v.a)({},e,{open:!e.open})},select:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;return"SELECT ARTICLE"!==n?O(["ADD SALE","ADD UPDATE ARTICLE","REMOVE ARTICLE","TOGGLE ARTICLE MENU"],n)?{}:e:a}}),A=n(21),S=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return Object.keys(e).filter(function(e){return 1*e!==t}).reduce(function(t,n){return Object(v.a)({},t,Object(A.a)({},n,e[n]))},{})},D=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0;return Object(v.a)({},e,Object(A.a)({},t,n))},y=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce(function(e,t){return Object(v.a)({},e,t)},{})},T=n(5),j=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=t.id,a=Object(T.a)(t,["id"]);return Object(v.a)({},e,Object(A.a)({},n,Object(v.a)({id:n},a)))},I=Object(E.c)({articles:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;return O(["ADD ARTICLE","ADD UPDATE ARTICLE"],n)?D(e,a.id,y(e[a.id],a)):O(["ADD ARTICLE AND STOCK","ADD ARTICLE AND SALE"],n)?D(e,a.artId,function(e){return{id:e.artId,des:e.art,uPrice:e.uPrice}}(a)):"REMOVE ARTICLE"!==n?"ADD PRICE"!==n?"REMOVE PRICE"!==n?"OPEN FILE"!==n?e:a.articles:D(e,a.art,D(e[a.art],"prices",S(e[a.art].prices,a.qty))):D(e,a.id,D(e[a.id],"prices",D(e[a.id].prices,a.qty,{q:a.qty,p:a.price}))):S(e,a)},operations:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;return O(["REMOVE SALE","REMOVE STOCK"],n)?S(e,a):O(["ADD STOCK","ADD ARTICLE AND STOCK"],n)?j(e,function(e){var t=e.artId,n=e.id,a=e.art,r=e.code;return{art:a,artId:t,id:n,qty:e.qty,code:r,tCout:e.tCout,time:e.time}}(a)):O(["ADD SALE","ADD ARTICLE AND SALE"],n)?j(e,a):"REMOVE ARTICLE"!==n?"OPEN FILE"!==n?"REINIT"!==n?e:{}:a.operations:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return Object.keys(e).reduce(function(n,a){return e[a].artId!==t?Object(v.a)({},n,Object(A.a)({},a,e[a])):n},{})}(e,a)}}),R={article:{des:"",uPrice:100},stock:{art:"",qty:1,uPrice:100,tCout:1e3,code:0},sale:{art:"",qty:1,code:1,uPrice:100},subscribe:{limitDate:"",code:""},price:{qty:10,price:1e3}},L={currentDate:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Date;return"".concat(t.getFullYear(),"-").concat((e=t.getMonth()+1,e<10?"0".concat(e):e),"-").concat(t.getDate())}(),filterDay:!1,setOldTime:!1},k={operations:{perPage:5,currentPage:0},sales:{perPage:5,currentPage:0},articles:{perPage:5,currentPage:0},salesStats:{perPage:5,currentPage:0},operationsStats:{perPage:5,currentPage:0},resultStats:{perPage:5,currentPage:0}},N={article:{order:"asc",orderBy:"des"},sale:{order:"desc",orderBy:"time"},stock:{order:"desc",orderBy:"time"},saleStats:{order:"desc",orderBy:"revenue"},operationStats:{order:"desc",orderBy:"rCout"},resultStats:{order:"desc",orderBy:"result"}},q={firstVisit:void 0,limitDate:void 0,code:"49fd32cea08c20ec1b6c04985615d95df79766d0"};var x,B=function(e,t){var n=t.code,a=t.limitDate;return e.code===function(e){function t(e){for(var t=(e>>>0).toString(16);t.length<8;)t="0"+t;return t}function n(e){return 4294967295&e}function a(e,t){return e<<t|e>>>32-t}var r,i,o,c,l,s,u,d,p,f=1732584193,E=4023233417,m=2562383102,g=271733878,v=3285377520,h=new Array(80),C=(e=(e=unescape(encodeURIComponent(e))).split(/.*?/).map(function(e){return e.charCodeAt(0)})).length,b=[];for(r=0;r<C-3;r+=4)i=e[r]<<24|e[r+1]<<16|e[r+2]<<8|e[r+3],b.push(i);switch(C%4){case 0:r=2147483648;break;case 1:r=e[C-1]<<24|8388608;break;case 2:r=e[C-2]<<24|e[C-1]<<16|32768;break;case 3:r=e[C-3]<<24|e[C-2]<<16|e[C-1]<<8|128}for(b.push(r);b.length%16!=14;)b.push(0);for(b.push(C>>>29),b.push(n(C<<3)),o=0;o<b.length;o+=16){for(r=0;r<16;r++)h[r]=b[o+r];for(r=16;r<80;r++)h[r]=a(h[r-3]^h[r-8]^h[r-14]^h[r-16],1);for(c=f,l=E,s=m,u=g,d=v,r=0;r<=19;r++)p=n(a(c,5)+(l&s|~l&u)+d+h[r]+1518500249),d=u,u=s,s=a(l,30),l=c,c=p;for(r=20;r<=39;r++)p=n(a(c,5)+(l^s^u)+d+h[r]+1859775393),d=u,u=s,s=a(l,30),l=c,c=p;for(r=40;r<=59;r++)p=n(a(c,5)+(l&s|l&u|s&u)+d+h[r]+2400959708),d=u,u=s,s=a(l,30),l=c,c=p;for(r=60;r<=79;r++)p=n(a(c,5)+(l^s^u)+d+h[r]+3395469782),d=u,u=s,s=a(l,30),l=c,c=p;f=n(f+c),E=n(E+l),m=n(m+s),g=n(g+u),v=n(v+d)}return t(f)+t(E)+t(m)+t(g)+t(v)}(n)?D(e,"limitDate",a):e},w=function(e,t,n){return function(){var a=arguments.length>0&&void 0!==arguments[0]&&arguments[0],r=(arguments.length>1?arguments[1]:void 0).type;return r!=="TOGGLE ".concat(e)?!O(t,r)&&(!!O(n,r)||a):!a}},M=Object(E.c)({updateArticle:w("UPDATE ARTICLE",["ADD UPDATE ARTICLE"],["EDIT ARTICLE"]),article:w("ARTICLE",["ADD ARTICLE","ADD ARTICLE AND STOCK","ADD ARTICLE AND SALE"]),stock:w("STOCK",["ADD STOCK","ADD ARTICLE AND STOCK"]),sale:w("SALE",["ADD SALE","ADD ARTICLE AND SALE"],["BUY ARTICLE"]),artSale:w("ART SALE",["ADD ARTICLE AND SALE"]),artStock:w("ART STOCK",["ADD ARTICLE AND STOCK"]),appMenu:w("APP MENU",["ADD ARTICLE","REINIT","OPEN FILE","BACKUP","SET SUBSCRIPTION","ADD ARTICLE AND STOCK","ADD ARTICLE AND SALE","ADD STOCK"]),articlePage:w("ARTICLE PAGE",["ADD UPDATE ARTICLE","ADD PRICE"]),price:w("PRICE",["ADD PRICE"]),articlesPage:w("ARTICLES PAGE"),salePage:w("SALE PAGE",["ADD SALE","ADD ARTICLE AND SALE"]),operationPage:w("OPERATION PAGE",["ADD STOCK","ADD ARTICLE AND STOCK"]),saleStats:w("SALES STATS"),operationStats:w("OPERATIONS STATS"),resultStats:w("RESULTS STATS"),filter:w("FILTER MENU"),statsMenu:w("STATS MENU"),setting:w("SETTING"),about:w("ABOUT",["SET SUBSCRIPTION"]),subscribe:w("SUBSCRIBE",["SET SUBSCRIPTION"]),info:w("INFO"),deleteArt:w("DELETE ART",["REMOVE ARTICLE"]),confirmReinit:w("CONFIRM REINIT",["REINIT"])}),U=Object(E.c)({core:P,entities:I,forms:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:R,t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;return"INPUT CHANGE"!==n?"SELECT ARTICLE"!==n?"BUY ARTICLE"!==n?"SET SUBSCRIPTION"!==n?O(["ADD ARTICLE","ADD UPDATE ARTICLE","ADD PRICE"],n)?Object(v.a)({},e,{article:R.article}):O(["ADD SALE","ADD ARTICLE AND SALE"],n)?Object(v.a)({},e,{sale:R.sale}):O(["ADD STOCK","ADD ARTICLE AND STOCK"],n)?Object(v.a)({},e,{stock:R.stock}):e:Object(v.a)({},e,{subscribe:R.subscribe}):Object(v.a)({},e,{sale:Object(v.a)({},e.sale,{art:a.des})}):Object(v.a)({},e,{article:a.article}):Object(v.a)({},e,Object(A.a)({},a.form,Object(v.a)({},e[a.form],Object(A.a)({},a.field,a.value))))},slicing:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:k,t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;return"PAGE CHANGE"!==n?"PER PAGE CHANGE"!==n?"TOGGLE FILTER"!==n?e:k:Object(v.a)({},e,Object(A.a)({},a.table,{currentPage:0,perPage:a.perPage})):Object(v.a)({},e,Object(A.a)({},a.table,Object(v.a)({},e[a.table],{currentPage:a.page})))},sorting:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:N,t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;return"SORT TABLE"!==n?e:Object(v.a)({},e,Object(A.a)({},a.form,{orderBy:a.id,order:"desc"===e[a.form].order?"asc":"desc"}))},subscription:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:q,t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;return"SET FIRST VISIT"!==n?"SET SUBSCRIPTION"!==n?e:B(e,a):function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:q;return Boolean(e.firstVisit)?e:D(e,"firstVisit",Date.now())}(e)},ui:M,settings:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:L,t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;return"SET SETTING"!==n?e:D(e,a.key,a.value)}}),G=function(e){return Object.keys(e)},F=["ADD SALE","ADD STOCK"],K=["ADD ARTICLE AND SALE","ADD ARTICLE AND STOCK"],V=["ADD ARTICLE"],W=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.length?Math.max.apply(Math,Object(f.a)(e))+1:1},Q=n(133),z=function e(t,n){var a=Object(Q.a)(t),r=a[0],i=r.p,o=r.q,c=a.slice(1),l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return n<o?n<1?l:e(c,n,l):e([{p:i,q:o}].concat(Object(f.a)(c)),n-o,l+i)},J=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.keys(e).map(function(t){return e[t]})},H=function(e,t){var n=e.prices,a=e.uPrice;return Boolean(n)?z([].concat(Object(f.a)(J(n).reverse()),[{q:1,p:a}]),t):a*t},Y=function(e,t){var n=e.id,a=e.des,r=Object(T.a)(e,["id","des"]),i=(t.art,t.qty),o=t.code,c=Object(T.a)(t,["art","qty","code"]);return Object(v.a)({},c,{qty:i,code:o,art:a,artId:n,tPrice:1===o?H(r,i):void 0})},X=function(e,t){var n=e.entities;return Object.keys(n.articles).map(function(e){return n.articles[e]}).find(function(e){return e.des===t})},$=function(e,t){var n=e.entities;return Object.keys(n.articles).some(function(e){return t===n.articles[e].des})},Z=["ADD STOCK","ADD ARTICLE AND STOCK"],_=function(e,t,n){var a=n.settings;return a.setOldTime&&O(Z,t)?Object(v.a)({},e,{time:new Date(a.currentDate).setMinutes((new Date).getMinutes())}):Object(v.a)({},e,{time:Date.now()})},ee=["ADD SALE","ADD STOCK","ADD ARTICLE","ADD ARTICLE AND SALE","ADD ARTICLE AND STOCK"],te=["ADD ARTICLE","ADD UPDATE ARTICLE"],ne=function(e,t){return Boolean(function(e,t){var n=e.entities,a=t.des,r=t.id;return J(n.articles).find(function(e){var t=e.id,n=e.des;return t!==r&&n===a})}(e,t))},ae=function(e,t,n){return function(e,t){var n;return localStorage.setItem("lingb-data",JSON.stringify({entities:(n=e()).entities,subscription:n.subscription,settings:n.settings})),t}(e.getState,t(n))},re=[function(e){return function(t){return function(n){return"ADD SALE"!==n.type||$(e.getState(),n.payload.art)?t(n):t({type:"TOGGLE ART SALE"})}}},function(e){return function(t){return function(n){return"ADD STOCK"!==n.type||$(e.getState(),n.payload.art)?t(n):t({type:"TOGGLE ART STOCK"})}}},function(e){return function(t){return function(n){return t(function(e,t){var n=e.type,a=e.payload,r=t.entities;return O(F,n)?{type:n,payload:Object(v.a)({},a,{id:W(G(r.operations))})}:O(K,n)?{type:n,payload:Object(v.a)({},a,{id:W(G(r.operations)),tPrice:1===a.code?a.uPrice*a.qty:void 0,artId:W(G(r.articles))})}:O(V,n)?{type:n,payload:y(a,{id:W(G(r.articles))})}:{type:n,payload:a}}(n,e.getState()))}}},function(e){return function(t){return function(n){return O(ee,n.type)?t(Object(v.a)({},n,{payload:_(n.payload,n.type,e.getState())})):t(n)}}},function(e){return function(t){return function(n){return O(["ADD SALE","ADD STOCK"],n.type)?t(Object(v.a)({},n,{payload:Y(X(e.getState(),n.payload.art),n.payload)})):t(n)}}},function(e){return function(t){return function(n){return O(te,n.type)&&ne(e.getState(),n.payload)?t({type:"DESIGNATION EXIST ERROR"}):t(n)}}},function(e){return function(e){return function(t){return"ADD PRICE"!==t.type||0!==t.payload.qty&&0!==t.payload.price?e(t):e({type:"INCORRECT PRICE"})}}},function(e){return function(t){return function(n){return ae(e,t,n)}}},function(e){return function(e){return function(t){return"SET SUBSCRIPTION"!==t.type?e(t):function(e,t){var n=e(t);return localStorage.setItem("lingb-sub",JSON.stringify(Date.parse(t.payload.limitDate))),n}(e,t)}}}],ie=Object(E.d)(U,JSON.parse(localStorage.getItem("lingb-data"))||{},E.a.apply(void 0,[Object(m.createLogger)(),g.a].concat(Object(f.a)(re)))),oe=n(12),ce=n(35),le=n(45),se=function(e,t){return function(){return e({type:"TOGGLE ".concat(t)})}},ue=function(e){return{handleSuscribe:se(e,"SUBSCRIBE"),handleOrder:se(e,"INFO")}},de=function(e,t){return{handleClick:se(e,t)}},pe=function(e,t){return["qty","tCout","uPrice","price"].some(function(t){return t===e})?t.target.valueAsNumber:t.target.value},fe=function(e,t){return function(n){return function(a){return e({type:"INPUT CHANGE",payload:{form:t,field:n,value:pe(n,a)}})}}},Ee=function(e){return{handleClose:se(e,"SETTING"),handleChange:function(t,n){return e({type:"SET SETTING",payload:{key:t,value:n}})}}},me=function(e){return{handleClose:se(e,"ABOUT"),handleSuscribeClick:se(e,"SUBSCRIBE")}},ge=function(e){return function(){return e(function(e,t){var n,a=document.createElement("a");a.download="backup.json",a.href=(n=function(e){var t=e.entities;return t}(t()),URL.createObjectURL(new Blob([JSON.stringify(n)]))),a.click(),e({type:"BACKUP"})})}},ve=function(e,t){var n=new FileReader;n.onload=function(){return Boolean(function(e){try{return JSON.parse(e)}catch(t){return}}(n.result))?e({type:"OPEN FILE",payload:JSON.parse(n.result)}):e({type:"FILE ERROR"})},n.readAsText(t.files[0])},he=function(e){return function(t){return function(){return e({type:"SET SUBSCRIPTION",payload:t})}}},Ce=function(e,t){return{fheaderProps:{handleMoreClick:se(e,"APP MENU")},fnotificationProps:{handleClose:se(e,"NOTIFICATION")},fsubscriptionProps:ue(e),faboutProps:me(e),fsubscribeProps:{handleClose:se(e,"SUBSCRIBE"),handleChange:fe(e,"subscribe"),handleSubmit:he(e)},finfoProps:{handleClose:se(e,"INFO")},fsettingProps:Ee(e),fappMenuProps:{handleClose:se(e,"APP MENU"),fabout:de(e,"ABOUT"),fbackup:ge(e),fopen:{handleClick:(n=e,function(){var e=document.createElement("input");e.type="file",e.accept="application/json",n(function(t){e.onchange=function(e){var n=e.target;return ve(t,n)}}),e.click()})},fsetting:de(e,"SETTING"),freinit:de(e,"CONFIRM REINIT")},fconfirmReinit:{onClose:se(e,"CONFIRM REINIT"),onConfirm:function(){return e({type:"REINIT"})}}};var n},be=function(e,t,n,a){return{flegendProps:{handleMoreClick:se(e,t)},ftableProps:{fcellProps:{handleSort:function(t){return function(){return e({type:"SORT TABLE",payload:{id:t,form:n}})}}},frowProps:a}}},Oe=function(e,t){return{handleRemove:function(n){return function(){return e({type:"REMOVE ".concat(t),payload:n})}}}},Pe=function(e,t){return{SALE:be(e,"SALE","sale",Oe(e,"SALE")),STOCK:be(e,"STOCK","stock",Oe(e,"STOCK")),PRICE:be(e,"PRICE","price",Oe(e,"PRICE")),"SALES STATS":be(e,"SALES STATS","saleStats"),"OPERATIONS STATS":be(e,"OPERATIONS STATS","operationStats"),"RESULTS STATS":be(e,"RESULTS STATS","resultStats"),ARTICLE:be(e,"ARTICLE","article",{handleSelect:function(t){return function(n){return e({type:"SELECT ARTICLE",payload:{article:t,anchor:n.currentTarget}})}}})}[t]},Ae=function(e,t,n,a){return{handleChange:fe(e,t),handleClose:se(e,a),handleSubmit:function(){return e((a=n,r=t,function(e,t){return e(function(e,t,n){var a=n.forms;return{type:"ADD ".concat(e),payload:a[t]}}(a,r,t()))}));var a,r}}},Se=function(e,t,n,a,r,i){var o=arguments.length>6&&void 0!==arguments[6]&&arguments[6],c=arguments.length>7?arguments[7]:void 0;return{headerProps:{title:i,dashboard:o},notificationProps:e.notification,subscriptionProps:D(t,"limitDate",Date.parse(t.limitDate)),subscribeProps:D(n.subscribe,"open",a.subscribe),aboutProps:D(t,"open",a.about),infoProps:D({},"open",a.info),settingProps:D(r,"open",a.setting),appMenuProps:{entities:c,open:a.appMenu},confirmReinit:{open:a.confirmReinit}}},De=function(e,t,n,a,r,i,o,c){return{legendProps:{title:e,url:t,statCard:c},tableProps:{cellProps:{order:n,orderBy:a},schema:o,data:i,Row:r}}},ye=function(e,t){return{title:e,infos:t}},Te=function(e){return{limitDate:e.limitDate,firstVisit:e.firstVisit}},je=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return t.reduceRight(function(e,t){return t(e)},e)}},Ie=function(e){return function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).map(e)}},Re=je(Ie((x="des",function(e){return e[x]})),J),Le=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;return Object(v.a)({open:e},t,{articles:Boolean(n)?Re(n):[]})},ke=n(9),Ne=n.n(ke),qe=n(30),xe=n.n(qe),Be=n(28),we=n.n(Be),Me=n(134),Ue=n.n(Me),Ge=function(e){var t=e.handleClick;return r.a.createElement(we.a,{color:"secondary",onClick:t},r.a.createElement(Ue.a,null))},Fe=function(e){var t=e.price,n=e.qty,a=e.art,i=e.handleRemove;return r.a.createElement(xe.a,null,r.a.createElement(Ne.a,null,n),r.a.createElement(Ne.a,{align:"right",padding:"none"},t),r.a.createElement(Ne.a,{padding:"none"},r.a.createElement("div",{className:"cell-action"},n>1&&r.a.createElement(Ge,{handleClick:i({art:a,qty:1*n})}),r.a.createElement("div",{style:{width:8}}))))},Ke=function(e,t){return[["Designation",e[t].des],["Prix unitaire",e[t].uPrice]]},Ve=function(e,t){return e>t?1:-1},We=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"desc",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"time";return function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).sort(function(e,t){return"desc"===e?function(e,n){return-Ve(e[t],n[t])}:function(e,n){return Ve(e[t],n[t])}}(e,t))}},Qe=We("asc"),ze=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return 0===t?0:e/t},Je=function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:0)*(arguments.length>1&&void 0!==arguments[1]?arguments[1]:0)},He=function(e,t,n){var a=e.code,r=e.qty,i=e.tCout,o=Object(T.a)(e,["code","qty","tCout"]);return 0===a?Object(v.a)({},o,{code:a,qty:r,tCout:i,uCout:ze(i,r)}):Object(v.a)({},o,{code:a,qty:r,tCout:Je(ze(t,n),r),uCout:ze(t,n)})},Ye=function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:0)+(arguments.length>1&&void 0!==arguments[1]?arguments[1]:0)},Xe=function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:0)-(arguments.length>1&&void 0!==arguments[1]?arguments[1]:0)},$e=function(e,t,n){var a=e.code,r=e.qty,i=e.tCout;return 0===a?Ye(t,i):Xe(t,Je(ze(t,n),r))},Ze=function(e,t){var n=e.code,a=e.qty;return 0===n?Ye(t,a):Xe(t,a)},_e=je(function(e){return Object(oe.a)(e,1)[0]},function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).reduce(function(e,t){var n=Object(oe.a)(e,3),a=n[0],r=n[1],i=n[2];return[[].concat(Object(f.a)(a),[He(t,r,i)]),$e(t,r,i),Ze(t,i)]},[[],0,0])},Qe),et=[["Chiffre d'affaire",0],["Quantit\xe9 vendue",0],["Prix moyen",0],["Nombre de ventes",0],["Resultat",0]],tt=function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).reduce(function(e,t){var n=Object(oe.a)(e,5),a=Object(oe.a)(n[0],2)[1],r=Object(oe.a)(n[1],2)[1],i=Object(oe.a)(n[2],2)[1],o=Object(oe.a)(n[3],2)[1],c=Object(oe.a)(n[4],2)[1],l=t.tCout,s=t.tPrice,u=t.qty;return[["Chiffre d'affaire",a+s],["Quantit\xe9 vendue",r+u],["Prix moyen",i>0?(i+s/u)/2:s/u],["Nombre de ventes",o+1],["Resultat",l>0?c+(s-l):c]]},et)},nt=function(e,t){return je(tt,(n=t,function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).filter(function(e){var t=e.code,a=e.artId;return 1===t&&a===n})}),_e,function(e){return e.filter(function(e){var n=e.artId;return t===n})},J)(e);var n},at=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0,n=t.code,a=t.tCout;return 0!==n?["stock achete",e]:["stock achete",Ye(e,a)]},rt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0,n=t.code,a=t.tCout;return 1===n?["stock vendu",Ye(e,a)]:["stock vendu",e]},it=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0,n=t.code,a=t.tCout;return 0===n?["stock restant",Ye(e,a)]:["stock restant",Xe(e,a)]},ot=function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).reduce(function(e,t){var n=Object(oe.a)(e,3),a=Object(oe.a)(n[0],2)[1],r=Object(oe.a)(n[1],2)[1],i=Object(oe.a)(n[2],2)[1];return[at(a,t),rt(r,t),it(i,t)]},[["stock achete",0],["stock vendu",0],["stock restant",0]])},ct=function(e,t){return je(ot,_e,function(e){return function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).filter(function(t){return t.artId===e})}}(t),J)(e)},lt=new Intl.NumberFormat("fr",{minimumFractionDigits:2,maximumFractionDigits:2}).format,st=new Intl.NumberFormat("fr",{maximumFractionDigits:0}).format,ut=function(e){var t=e.id,n=e.uPrice,a=e.prices;return[{qty:1,price:lt(n),art:t}].concat(Object(f.a)(J(a||{}).map(function(e){var n=e.p,a=e.q;return{art:t,qty:st(a),price:lt(n)}})))},dt=n(138),pt=n.n(dt),ft=n(15),Et=n.n(ft),mt=n(135),gt=n.n(mt),vt=function(){return r.a.createElement(we.a,{color:"inherit",onClick:function(){return window.history.back()}},r.a.createElement(gt.a,null))},ht=n(136),Ct=n.n(ht),bt=function(){return r.a.createElement("div",{style:{padding:"0 8px"}},r.a.createElement(Ct.a,null))},Ot=n(137),Pt=n.n(Ot),At=function(e){var t=e.handleClick,n=Object(T.a)(e,["handleClick"]);return r.a.createElement(we.a,Object.assign({},n,{onClick:t}),r.a.createElement(Pt.a,null))},St=function(e){var t=e.dashboard,n=void 0!==t&&t,a=e.handleMoreClick,i=e.title;return r.a.createElement(r.a.Fragment,null,r.a.createElement(pt.a,{position:"fixed"},r.a.createElement("div",{className:"flex-center-items toolbar"},n?r.a.createElement(bt,null):r.a.createElement(vt,null),r.a.createElement(Et.a,{noWrap:!0,variant:"headline",color:"inherit"},i),r.a.createElement("div",{className:"spacer"}),r.a.createElement(At,{id:"menu",color:"inherit",handleClick:a}))),r.a.createElement("div",{style:{height:64}}))},Dt=n(139),yt=n.n(Dt),Tt=n(93),jt=n.n(Tt),It={info:"darkgreen"},Rt=function(e){var t=e.message,n=e.open,a=void 0!==n&&n,i=e.variant,o=void 0===i?"info":i,c=e.handleClose;return r.a.createElement(yt.a,{open:a,autoHideDuration:6e3,anchorOrigin:{horizontal:"left",vertical:"bottom"},onClose:c},r.a.createElement(jt.a,{style:{backgroundColor:It[o]},message:t}))},Lt=n(29),kt=n.n(Lt),Nt=function(e){var t=e.message,n=e.handleOrder;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{style:{visibility:"collapse"}},r.a.createElement(kt.a,{color:"primary",variant:"contained",onClick:n,children:"s'abonner"})),r.a.createElement("div",{style:{color:"darkred",backgroundColor:"#fff",display:"flex",alignItems:"center",position:"fixed",bottom:0,left:0,right:0,boxShadow:"0px -2px 8px"}},r.a.createElement("div",{style:{padding:"0 8px",flex:"auto"}},r.a.createElement(Et.a,{align:"justify",color:"inherit"},t)),r.a.createElement("div",null,r.a.createElement(kt.a,{color:"primary",onClick:n},"S'abonner"))))},qt=function(e){var t=e.expired,n=void 0!==t&&t,a=e.handleSubscribe,i=e.handleOrder;return r.a.createElement("div",{style:{display:"flex",padding:16,position:"fixed",top:0,left:0,right:0,zIndex:1200,bottom:0,backgroundColor:"#fff",flexDirection:"column",justifyContent:"center"}},r.a.createElement(Et.a,{color:"secondary",align:"justify",paragraph:!0},n?"Votre abonnement a expir\xe9":"La periode d'essai est depass\xe9e"),r.a.createElement(Et.a,{color:"primary",align:"justify",paragraph:!0},"Commandez un abonnement en cliquant sur le button s'abonner"),r.a.createElement("div",null,r.a.createElement(kt.a,{style:{marginRight:16},color:"secondary",variant:"contained",onClick:a},"abonner"),r.a.createElement(kt.a,{color:"primary",variant:"contained",onClick:i},"s'abonner")))},xt=function(e){return 24*e*60*60*1e3},Bt=function(){return Date.now()},wt=function(e){return!Boolean(e.limitDate)&&Bt()-e.firstVisit<xt(7)?r.a.createElement(Nt,{message:"Abonnez-vous, car si non l'application va s'auto-bloquer",handleOrder:e.handleOrder}):Boolean(e.limitDate)&&Bt()-e.limitDate>0?r.a.createElement(qt,{handleOrder:e.handleOrder,handleSubscribe:e.handleSuscribe,expired:!0}):!Boolean(e.limitDate)&&Bt()-e.firstVisit>xt(7)?r.a.createElement(qt,{handleOrder:e.handleOrder,handleSubscribe:e.handleSuscribe}):e.limitDate-Bt()>xt(4)?null:r.a.createElement(Nt,{message:"Votre abonnement expire bientot",handleOrder:e.handleOrder})},Mt=n(38),Ut=n.n(Mt),Gt=function(e){var t=e.value,n=e.handleChange,a=Object(T.a)(e,["value","handleChange"]);return r.a.createElement(Ut.a,Object.assign({},a,{value:t,required:!0,fullWidth:!0,margin:"dense",onChange:n}))},Ft=n(33),Kt=n.n(Ft),Vt=n(52),Wt=n.n(Vt),Qt=n(34),zt=n.n(Qt),Jt=n(77),Ht=n.n(Jt),Yt=n(140),Xt=n.n(Yt),$t=n(71),Zt=n.n($t),_t=function(e){var t=e.children,n=e.open,a=e.title,i=e.handleClose;return r.a.createElement(Ht.a,{open:n,onClose:i,maxWidth:"xs",scroll:"body",TransitionComponent:Zt.a},r.a.createElement(Xt.a,null,a),r.a.createElement(zt.a,null),t)},en=function(e){var t=e.label;return r.a.createElement(kt.a,{type:"submit",variant:"contained",color:"primary"},t)},tn=function(e){var t=e.children,n=e.handleSubmit,a=Object(T.a)(e,["children","handleSubmit"]);return r.a.createElement(_t,a,r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),n()}},r.a.createElement(Kt.a,null,t),r.a.createElement(zt.a,null),r.a.createElement(Wt.a,null,r.a.createElement("div",{style:{paddingRight:16}},r.a.createElement(en,{label:"enregistrer"})))))},nn=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Date;return"".concat(t.getFullYear(),"-").concat((e=t.getMonth()+1,e<10?"0".concat(e):e),"-").concat(t.getDate())},an=function(e){var t=e.handleChange,n=e.handleClose,a=e.handleSubmit,i=e.open,o=e.limitDate,c=e.code;return r.a.createElement(tn,{handleSubmit:a({limitDate:o,code:c}),handleClose:n,open:i,title:"Abonnement"},r.a.createElement(Gt,{type:"date",label:"Date limite",value:o||nn(),handleChange:t("limitDate")}),r.a.createElement(Gt,{type:"password",label:"Code",value:c,handleChange:t("code")}))},rn=new Intl.DateTimeFormat("fr",{year:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"numeric"}).format,on=function(e){var t=e.limitDate,n=e.open,a=e.handleClose,i=e.handleSuscribeClick;return r.a.createElement(_t,{open:n,handleClose:a,title:"A propos"},r.a.createElement(Kt.a,null,r.a.createElement(Et.a,{paragraph:!0,align:"justify"},"LINGB est une application web de gestion de stocks et ventes facile \xe0 prendre en main."),r.a.createElement(Et.a,{paragraph:!0,align:"justify"},"L'application est utilisable sous abonnement mensuel. Et votre abonnement court jusqu' \xe0 la date du ",Boolean(t)?rn(new Date(t)):"..."),r.a.createElement(Et.a,{paragraph:!0},"Pour plus d'informations:"),r.a.createElement(Et.a,{paragraph:!0},"+243 89 038 37 94"),r.a.createElement("div",{style:{textAlign:"right"}},r.a.createElement(kt.a,{color:"primary",variant:"contained",onClick:i},"Abonner"))))},cn=function(e){return r.a.createElement(_t,Object.assign({},e,{title:"Contact"}),r.a.createElement(Kt.a,null,r.a.createElement(Et.a,{paragraph:!0,align:"justify"},"Pour se (re)abonner, envoyez nous un sms, contenant addresse (votre commune, avenue, numero) et nous viendrons vite vous reabonner"),r.a.createElement(Et.a,null,"Tel: +243 89 038 37 94")))},ln=n(39),sn=n.n(ln),un=n(96),dn=n.n(un),pn=n(95),fn=n.n(pn),En=function(e){var t=e.open,n=e.handleClose,a=Object(T.a)(e,["open","handleClose"]);return r.a.createElement(_t,{open:t,handleClose:n,title:"Parametres"},r.a.createElement(Kt.a,null,r.a.createElement("div",{style:{padding:"8px 0"}},r.a.createElement(fn.a,{control:r.a.createElement(dn.a,{color:"primary",onChange:function(e,t){return a.handleChange("setOldTime",t)}}),label:"Inserer une date differente de la date du terminal",checked:a.setOldTime})),r.a.createElement("div",{style:{padding:"8px 0"}},r.a.createElement(fn.a,{control:r.a.createElement(dn.a,{color:"primary",onChange:function(e,t){return a.handleChange("filterDay",t)}}),label:"Ne considerer que les operations de la date en cour",checked:a.filterDay})),r.a.createElement(sn.a,null,"Date en cour"),r.a.createElement("div",null,r.a.createElement(Ut.a,{type:"date",value:a.currentDate,fullWidth:!0,onChange:function(e){return a.handleChange("currentDate",e.target.value)}}))))},mn=n(53),gn=n.n(mn),vn=n(145),hn=n.n(vn),Cn=n(146),bn=n.n(Cn),On=n(149),Pn=n.n(On),An=n(148),Sn=n.n(An),Dn=n(147),yn=n.n(Dn),Tn=n(142),jn=n.n(Tn),In=n(143),Rn=n.n(In),Ln=n(144),kn=n.n(Ln),Nn=n(141),qn=n.n(Nn),xn=function(e){var t=e.Icon,n=void 0===t?qn.a:t,a=e.text,i=e.handleClick,o=Object(T.a)(e,["Icon","text","handleClick"]);return r.a.createElement(jn.a,Object.assign({},o,{onClick:i}),r.a.createElement(Rn.a,null,r.a.createElement(n,null)),r.a.createElement(kn.a,{primary:a}))},Bn=(new FileReader,function(e){var t=e.open,n=e.handleClose,a=Object(T.a)(e,["open","handleClose"]);return r.a.createElement(r.a.Fragment,null,r.a.createElement(gn.a,Object.assign({open:t,onClose:n,anchorEl:document.getElementById("menu")},{disableAutoFocusItem:!0}),r.a.createElement(xn,{text:"Sauvegarder",handleClick:a.fbackup,Icon:hn.a}),r.a.createElement(xn,Object.assign({text:"Ouvrir"},a.fopen,{Icon:bn.a})),r.a.createElement(zt.a,null),r.a.createElement(xn,Object.assign({},a.freinit,{text:"Reinitialiser",Icon:yn.a})),r.a.createElement(zt.a,null),r.a.createElement(xn,Object.assign({},a.fsetting,{text:"Configuration",Icon:Sn.a})),r.a.createElement(xn,Object.assign({},a.fabout,{text:"A propos",Icon:Pn.a}))))}),wn=function(e){var t=e.open,n=e.onClose,a=e.onConfirm;return r.a.createElement(Ht.a,Object.assign({maxWidth:"xs"},{open:t,onClose:n}),r.a.createElement(Kt.a,null,r.a.createElement(sn.a,{align:"justify",color:"secondary"},"La reinitialisation consiste \xe0 effacer toutes les operation (ventes et achats) de votre application, voulez-vous reinitialiser ?")),r.a.createElement(Wt.a,null,r.a.createElement("div",{className:"pad-8"},r.a.createElement(kt.a,{variant:"contained",color:"primary",onClick:a},"Confirmer"))))},Mn=function(e){var t=e.id,n=e.children,a=e.notificationProps,i=e.fnotificationProps,o=e.headerProps,c=e.fheaderProps,l=Object(T.a)(e,["id","children","notificationProps","fnotificationProps","headerProps","fheaderProps"]);return r.a.createElement(r.a.Fragment,null,r.a.createElement(St,Object.assign({},o,c)),r.a.createElement("main",{id:t,className:l.className},n),r.a.createElement(cn,Object.assign({},l.infoProps,l.finfoProps)),r.a.createElement(on,Object.assign({},l.aboutProps,l.faboutProps)),r.a.createElement(Rt,Object.assign({},a,i)),r.a.createElement(wt,Object.assign({},l.subscriptionProps,l.fsubscriptionProps)),r.a.createElement(an,Object.assign({},l.subscribeProps,l.fsubscribeProps)),r.a.createElement(En,Object.assign({},l.settingProps,l.fsettingProps)),r.a.createElement(Bn,Object.assign({},l.appMenuProps,l.fappMenuProps)),r.a.createElement(wn,Object.assign({},l.confirmReinit,l.fconfirmReinit)))},Un=n(54),Gn=n.n(Un),Fn=function(e){var t=e.title,n=e.value;return r.a.createElement("dl",null,r.a.createElement(Et.a,{style:{fontWeight:900},color:"inherit",component:"dt"},t),r.a.createElement(Et.a,{style:{fontWeight:900},color:"inherit",component:"dd"},Number.isNaN(Number.parseInt(lt(n)))?n:lt(n)))},Kn=function(e){var t=e.title,n=e.infos,a=void 0===n?[]:n;return r.a.createElement("div",{className:"pad-8"},r.a.createElement("div",{style:{padding:"8px 8px 0 8px"}},r.a.createElement(Et.a,{variant:"h6"},t)),r.a.createElement(zt.a,{style:{margin:"0 8px"}}),r.a.createElement("div",{className:"pad-8"},a.map(function(e,t){var n=Object(oe.a)(e,2),a=n[0],i=n[1];return r.a.createElement(Fn,{key:t,title:a,value:i})})))},Vn=function(e){var t=e.infos,n=void 0===t?[]:t;return r.a.createElement(Gn.a,null,n.map(function(e,t){return r.a.createElement(Kn,Object.assign({key:t},e))}))},Wn=n(78),Qn=n.n(Wn),zn=n(150),Jn=n.n(zn),Hn=function(e){var t=e.handleClick;return r.a.createElement(we.a,{onClick:t},r.a.createElement(Jn.a,null))},Yn=n(151),Xn=n.n(Yn),$n=function(e){var t=e.handleClick,n=Object(T.a)(e,["handleClick"]);return r.a.createElement(we.a,Object.assign({},n,{onClick:t}),r.a.createElement(Xn.a,null))},Zn=function(e){var t=e.statCard,n=void 0!==t&&t,a=e.title,i=e.url,o=e.handleMoreClick;return r.a.createElement("div",null,r.a.createElement(Qn.a,{title:a,titleTypographyProps:{variant:"h6",noWrap:!0},action:r.a.createElement(r.a.Fragment,null,Boolean(i)&&r.a.createElement($n,{to:i,component:ce.b}),!Boolean(n)&&r.a.createElement(Hn,{handleClick:o}))}))},_n=n(154),ea=n.n(_n),ta=n(156),na=n.n(ta),aa=n(155),ra=n.n(aa),ia=n(153),oa=n.n(ia),ca=function(e){var t=e.order,n=e.orderBy,a=e.id,i=e.label,o=e.pad,c=void 0===o?"default":o,l=e.handleSort;return r.a.createElement(Ne.a,{padding:c,align:["qty","salesCount","uPrice","time","tPrice","tCout","uCout","price","bCout","cCout","rCout","revenue","result","mPrice"].some(function(e){return e===a})?"right":"left",sortDirection:n===a&&t},r.a.createElement(oa.a,{direction:t,active:n===a,onClick:l(a)},i))},la=function(e){var t=e.data,n=void 0===t?[]:t,a=e.schema,i=void 0===a?[]:a,o=e.Row,c=e.cellProps,l=e.fcellProps,s=e.frowProps,u=void 0===s?{}:s;return r.a.createElement("div",{style:{overflowX:"auto"}},r.a.createElement(ea.a,null,r.a.createElement(ra.a,null,i.map(function(e,t){var n=Object(oe.a)(e,3),a=n[0],i=n[1],o=n[2];return r.a.createElement(ca,Object.assign({key:t,id:a,label:i,pad:o},c,l))})),r.a.createElement(na.a,null,n.map(function(e,t){return r.a.createElement(o,Object.assign({key:t},e,u))}))))},sa=function(e){var t=e.legendProps,n=void 0===t?{}:t,a=e.tableProps,i=void 0===a?{}:a,o=Object(T.a)(e,["legendProps","tableProps"]);return r.a.createElement(Gn.a,null,r.a.createElement(Zn,Object.assign({},n,o.flegendProps)),r.a.createElement(la,Object.assign({},i,o.ftableProps)))},ua=function(e){var t=e.value,n=e.handleChange,a=Object(T.a)(e,["value","handleChange"]);return r.a.createElement(Ut.a,Object.assign({},a,{type:"number",value:t,required:!0,fullWidth:!0,margin:"dense",onChange:n}))},da=function(e){var t=e.title,n=e.model,a=void 0===n?{}:n,i=e.handleChange,o=void 0===i?function(){return null}:i,c=Object(T.a)(e,["title","model","handleChange"]);return r.a.createElement(tn,Object.assign({},c,{title:t}),r.a.createElement(Gt,{value:a.des,handleChange:o("des"),label:"Designation"}),r.a.createElement(ua,{value:a.uPrice,handleChange:o("uPrice"),label:"Prix unitaire"}))},pa=function(e){var t=e.qty,n=e.price,a=e.handleChange,i=Object(T.a)(e,["qty","price","handleChange"]);return r.a.createElement(tn,Object.assign({},i,{title:"Ajouter un prix"}),r.a.createElement(ua,{label:"Quantit\xe9",value:t,handleChange:a("qty")}),r.a.createElement(ua,{label:"Prix",value:n,handleChange:a("price")}))},fa=(n(337),Object(p.b)(function(e,t){var n=e.core,a=e.entities,r=e.forms,i=e.ui,o=e.settings,c=e.subscription,l=t.match.params.id;return{pageProps:Se(n,Te(c),r,i,o,"Informations sur l'article",!1,a),pricesProps:De("Prix en gros",void 0,"asc","qt",Fe,ut(a.articles[l]),[["qt","Quantit\xe9"],["price","Prix en gros","none"],[]]),statsProps:{infos:[ye("infos generales",Ke(a.articles,1*l)),ye("statistiques sur le stock",ct(a.operations,1*l)),ye("statistiques sur les ventes",nt(a.operations,1*l))]},dialogsProps:{edit:Le(i.updateArticle,{model:r.article}),price:Le(i.price,r.price)},id:l}},function(e,t){var n=t.match.params.id;return{fpageProps:Ce(e),fpricesProps:Pe(e,"PRICE"),fdialogsProps:{edit:Ae(e,"article","UPDATE ARTICLE","UPDATE ARTICLE"),price:Object(v.a)({},Ae(e,"price","PRICE","PRICE"),{handleSubmit:function(){return e(function(e,t){return e({type:"ADD PRICE",payload:Object(v.a)({},t().forms.price,{id:1*n})})})}})}}})(function(e){var t=e.pageProps,n=e.statsProps,a=e.pricesProps,i=e.dialogsProps,o=Object(T.a)(e,["pageProps","statsProps","pricesProps","dialogsProps"]);return Boolean(o.id)?r.a.createElement(Mn,Object.assign({id:"article-page"},t,o.fpageProps),r.a.createElement("div",{className:"flex"},r.a.createElement("div",{id:"prices",className:"pad-8"},r.a.createElement(sa,Object.assign({},a,o.fpricesProps))),r.a.createElement("div",{className:"pad-8 grow"},r.a.createElement(Vn,n))),r.a.createElement("div",{id:"dialogs"},r.a.createElement(da,Object.assign({},i.edit,o.fdialogsProps.edit,{title:"Editer l'article"})),r.a.createElement(pa,Object.assign({},i.price,o.fdialogsProps.price)))):r.a.createElement(le.a,{to:"/dashboard"})})),Ea=function(e){return{handlePageChange:function(t){return function(){return e({type:"PAGE CHANGE",payload:t})}},handleFilterClick:function(){return e({type:"TOGGLE FILTER MENU"})}}},ma=function(e,t){return function(n){return e({type:"PER PAGE CHANGE",payload:{table:t,perPage:n.target.valueAsNumber}})}},ga=function(e,t){return{handleClose:se(e,"FILTER MENU"),handleChange:ma(e,t)}},va=function(e){return function(t){return function(){return e({type:"REMOVE ARTICLE",payload:t})}}},ha=function(e){return{handleDeleteClick:va(e),handleClose:se(e,"DELETE ART")}},Ca=function(e){return{fmenuProps:{onClose:function(){return e({type:"TOGGLE ARTICLE MENU"})}},handleDelete:function(){return e({type:"TOGGLE DELETE ART"})},handleEdit:function(t){return function(){return e({type:"EDIT ARTICLE",payload:t})}},handleBought:function(t){return function(){return e({type:"BUY ARTICLE",payload:t})}}}},ba=function(e){var t=e.id,n=e.des,a=e.uPrice,i=e.time,o=e.salesCount,c=e.handleSelect;return r.a.createElement(xe.a,null,r.a.createElement(Ne.a,null,n),r.a.createElement(Ne.a,{align:"right",padding:"none"},lt(a)),r.a.createElement(Ne.a,{align:"right"},lt(o)),r.a.createElement(Ne.a,{align:"right",padding:"none"},rn(i)),r.a.createElement(Ne.a,{padding:"none"},r.a.createElement("div",{className:"cell-action"},r.a.createElement(At,{handleClick:c({id:t,des:n,uPrice:a})}),r.a.createElement("div",{style:{width:8}}))))},Oa=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return Number.isInteger(e/t)?e/t:Number.parseInt(e/t)+1},Pa=function(e,t,n){return{table:t,currentPage:e[t].currentPage,pageCount:Oa(n,e[t].perPage)}},Aa=function(e,t){var n=e.deleteArt,a=t.select;return{open:n,artId:a.article?a.article.id:0}},Sa=function(e,t){return function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).slice(e,t)}},Da=function(e,t,n){var a=e.articles,r=e.operations,i=t.order,o=t.orderBy,c=n.perPage,l=n.currentPage;return je(Sa(c*l,c*l+c),We(i,o),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).map(function(t){return Object(v.a)({},t,{salesCount:e.reduce(function(e,n){var a=n.code,r=n.artId;return 1===a&&r===t.id?e+1:e},0)})})}}(J(r)),J)(a)},ya=function(e){var t=e.value,n=e.listId,a=e.options,i=void 0===a?[]:a,o=e.handleChange,c=Object(T.a)(e,["value","listId","options","handleChange"]);return r.a.createElement(r.a.Fragment,null,r.a.createElement(Ut.a,Object.assign({},c,{value:t,required:!0,inputProps:{list:n},fullWidth:!0,margin:"dense",onChange:o})),r.a.createElement("datalist",{id:n},i.map(function(e,t){return r.a.createElement("option",{key:t,value:e})})))},Ta=function(e){var t=e.model,n=void 0===t?{}:t,a=e.articles,i=e.handleChange,o=void 0===i?function(){return null}:i,c=Object(T.a)(e,["model","articles","handleChange"]);return r.a.createElement(tn,Object.assign({},c,{title:"Ajouter une vente"}),r.a.createElement(ya,{value:n.art,options:a,handleChange:o("art"),label:"Article",listId:"sale-articles"}),r.a.createElement(ua,{value:n.qty,handleChange:o("qty"),label:"Quantit\xe9"}))},ja=n(158),Ia=n.n(ja),Ra=n(157),La=n.n(Ra),ka=n(159),Na=n.n(ka),qa=n(160),xa=n.n(qa),Ba=function(e){var t=e.menuProps,n=e.fmenuProps,a=e.handleEdit,i=e.handleDelete,o=e.handleBought,c=e.article,l=void 0===c?{}:c;return r.a.createElement(gn.a,Object.assign({},n,t,{open:Boolean(t.anchorEl),disableAutoFocusItem:!0}),r.a.createElement(xn,{text:"Vendre",Icon:La.a,handleClick:o(l)}),r.a.createElement(xn,{text:"Editer",Icon:Ia.a,handleClick:a(l)}),r.a.createElement(xn,{text:"Supprimer",Icon:Na.a,handleClick:i}),r.a.createElement(xn,Object.assign({text:"Details",Icon:xa.a,handleClick:n.onClose},{component:ce.b,to:"/articles/".concat(l.id)})))},wa=n(44),Ma=n.n(wa),Ua=n(161),Ga=n.n(Ua),Fa=n(162),Ka=n.n(Fa),Va=n(163),Wa=n.n(Va),Qa=function(e){var t=e.table,n=e.currentPage,a=e.pageCount,i=e.handleFilterClick,o=e.handlePageChange;return r.a.createElement(Ma.a,null,r.a.createElement("div",{style:{borderRadius:"inherit",justifyContent:"flex-end"},className:"flex-center-items"},r.a.createElement(we.a,{color:"inherit",disabled:n+1===1,onClick:o({page:n-1,table:t})},r.a.createElement(Ga.a,null)),r.a.createElement(Et.a,{color:"inherit"},"".concat(n+1,"/").concat(a||1)),r.a.createElement(we.a,{color:"inherit",disabled:n+1===(a||1),onClick:o({page:n+1,table:t})},r.a.createElement(Ka.a,null)),r.a.createElement(we.a,{id:"filter",onClick:i},r.a.createElement(Wa.a,null))))},za=n(94),Ja=n.n(za),Ha=function(e){var t=e.open,n=void 0!==t&&t,a=e.anchor,i=void 0===a?window.document.getElementById("filter"):a,o=Object(T.a)(e,["open","anchor"]);return r.a.createElement(Ja.a,{anchorOrigin:{vertical:"bottom",horizontal:"left"},open:n,anchorEl:i,onClose:o.handleClose},r.a.createElement("div",{className:"pad-8"},r.a.createElement(Ut.a,{type:"number",value:o.perPage,onChange:o.handleChange,InputProps:{disableUnderline:!0},autoFocus:!0})))},Ya=function(e){var t=e.handleDeleteClick,n=e.artId,a=Object(T.a)(e,["handleDeleteClick","artId"]);return r.a.createElement(_t,Object.assign({title:"Suppression d'un article"},a),r.a.createElement(Kt.a,null,r.a.createElement(sn.a,{align:"justify",color:"secondary"},"La suppression d'un article entra\xeene la suppression de toutes les operations (achats et ventes) qui lui sont li\xe9es. Et\xeas-vous s\xfbr de vouloir effectuer la suppression ?")),r.a.createElement(Wt.a,null,r.a.createElement("div",{style:{paddingRight:16}},r.a.createElement(kt.a,{color:"primary",variant:"contained",onClick:t(n)},"Supprimer"))))},Xa=(n(338),Object(p.b)(function(e){var t=e.core,n=e.subscription,a=e.sorting,r=e.entities,i=e.ui,o=e.settings,c=e.forms,l=e.slicing;return{pageProps:Se(t,Te(n),c,i,o,"Liste des articles",!1,r),pagerProps:Pa(l,"articles",J(r.articles).length),articlesProps:De("articles",void 0,a.article.order,a.article.orderBy,ba,Da(r,a.article,l.articles),[["des","Designation"],["uPrice","Prix unitaire","none"],["salesCount","Nbre de ventes"],["time","Derniere modification","none"],[]]),dialogs:{article:Le(i.article,{model:c.article}),updateArticle:Le(i.updateArticle,{model:c.article}),sale:Le(i.sale,{model:c.sale}),articleMenu:{menuProps:{anchorEl:t.select.anchor},article:t.select.article},filter:D(l.articles,"open",i.filter),confirmDelete:Aa(i,t)}}},function(e){return{fpageProps:Ce(e),fpagerProps:Ea(e),farticlesProps:Pe(e,"ARTICLE"),fdialogs:{article:Ae(e,"article","ARTICLE","ARTICLE"),updateArticle:Ae(e,"article","UPDATE ARTICLE","UPDATE ARTICLE"),sale:Ae(e,"sale","SALE","SALE"),filter:ga(e,"articles"),articleMenu:Ca(e),fconfirmDelete:ha(e)}}})(function(e){var t=e.pageProps,n=e.fpageProps,a=e.articlesProps,i=e.farticlesProps,o=Object(T.a)(e,["pageProps","fpageProps","articlesProps","farticlesProps"]);return r.a.createElement(Mn,Object.assign({id:"articles-page"},t,n),r.a.createElement("div",{className:"pad-8"},r.a.createElement(Qa,Object.assign({},o.pagerProps,o.fpagerProps))),r.a.createElement("div",{className:"pad-8"},r.a.createElement(sa,Object.assign({},a,i))),r.a.createElement("div",{id:"dialogs"},r.a.createElement(da,Object.assign({},o.dialogs.article,o.fdialogs.article,{title:"Ajouter un article"})),r.a.createElement(da,Object.assign({},o.dialogs.updateArticle,o.fdialogs.updateArticle,{title:"Editer l'article"})),r.a.createElement(Ba,Object.assign({},o.dialogs.articleMenu,o.fdialogs.articleMenu)),r.a.createElement(Ta,Object.assign({},o.dialogs.sale,o.fdialogs.sale)),r.a.createElement(Ha,Object.assign({},o.dialogs.filter,o.fdialogs.filter)),r.a.createElement(Ya,Object.assign({},o.dialogs.confirmDelete,o.fdialogs.fconfirmDelete))))})),$a=n(164),Za=n.n($a),_a=function(e){var t=e.stats,n=void 0===t?[]:t,a=e.handleMoreClick;return r.a.createElement(Gn.a,null,r.a.createElement(Qn.a,{title:"Statistiques actuelles",titleTypographyProps:{variant:"h6",noWrap:!0},action:r.a.createElement($n,{id:"stats",handleClick:a})}),r.a.createElement(zt.a,null),r.a.createElement(Za.a,null,n.map(function(e,t){var n=Object(oe.a)(e,2),a=n[0],i=n[1];return r.a.createElement(Fn,{key:t,title:i,value:a})})))},er=function(e){var t=e.handleChange,n=void 0===t?function(){return null}:t,a=e.model,i=void 0===a?{}:a,o=Object(T.a)(e,["handleChange","model"]);return r.a.createElement(tn,Object.assign({title:"Terminer la vente"},o),r.a.createElement(sn.a,{color:"primary"},"L' article que vous veniez de saisir n'existe pas encore dans le systeme, alors determinez son prix unitaire de vente"),r.a.createElement(ua,{label:"Prix unitaire",value:i.uPrice,handleChange:n("uPrice")}))},tr=function(e){var t=e.handleChange,n=void 0===t?function(){return null}:t,a=e.model,i=void 0===a?{}:a,o=Object(T.a)(e,["handleChange","model"]);return r.a.createElement(tn,Object.assign({title:"Terminer l' achat"},o),r.a.createElement(sn.a,{color:"primary"},"L' article que vous veniez de saisir n'existe pas encore dans le systeme, alors determinez son prix unitaire de vente"),r.a.createElement(ua,{label:"Prix unitaire",value:i.uPrice,handleChange:n("uPrice")}))},nr=function(e){var t=e.model,n=void 0===t?{}:t,a=e.articles,i=e.handleChange,o=void 0===i?function(){return null}:i,c=Object(T.a)(e,["model","articles","handleChange"]);return r.a.createElement(tn,Object.assign({},c,{title:"Ajouter un achat"}),r.a.createElement(ya,{value:n.art,options:a,handleChange:o("art"),label:"Article",listId:"stock-articles"}),r.a.createElement(ua,{value:n.qty,handleChange:o("qty"),label:"Quantit\xe9"}),r.a.createElement(ua,{value:n.cout,handleChange:o("tCout"),label:"Cout"}))},ar=function(e){var t=e.menuProps,n=e.fmenuProps;return r.a.createElement(gn.a,Object.assign({anchorEl:document.getElementById("stats"),disableAutoFocusItem:!0},t,n),r.a.createElement(xn,{text:"Stats sur les ventes",handleClick:n.onClose,to:"/ventes-stats",component:ce.b}),r.a.createElement(xn,{text:"Stats sur les stock",handleClick:n.onClose,to:"/operations-stats",component:ce.b}),r.a.createElement(xn,{text:"Stats sur les resultat",handleClick:n.onClose,to:"/resultats-stats",component:ce.b}))},rr=function(e){return r.a.createElement("div",null,r.a.createElement(er,Object.assign({},e.artSale,e.fartSale)),r.a.createElement(tr,Object.assign({},e.artStock,e.fartStock)),r.a.createElement(da,Object.assign({},e.article,e.farticle,{title:"Ajouter un article"})),r.a.createElement(da,Object.assign({},e.updateArticle,e.fupdateArticle,{title:"Editer l'article"})),r.a.createElement(Ta,Object.assign({},e.sale,e.fsale)),r.a.createElement(nr,Object.assign({},e.stock,e.fstock)),r.a.createElement(Ba,Object.assign({},e.articleMenu,e.farticleMenu)),r.a.createElement(ar,Object.assign({},e.statsMenu,e.fstatsMenu)),r.a.createElement(Ya,Object.assign({},e.deleteArt,e.fdeleteArt)))},ir=(n(340),function(e){return{fmenuProps:{handleClose:function(){return e({type:"TOGGLE APP MENU"})}},farticle:de(e,"ARTICLE"),fsale:de(e,"SALE"),fstock:de(e,"STOCK"),fsetting:de(e,"SETTING"),fabout:de(e,"ABOUT")}}),or=function(e){return{style:{color:e<=0?"darkred":"rgba(0, 0, 0, 0.87)"}}},cr=function(e){var t=e.id,n=e.code,a=e.art,i=e.uCout,o=e.time,c=e.tCout,l=e.qty,s=e.handleRemove;return r.a.createElement(xe.a,null,r.a.createElement(Ne.a,or(c),a),r.a.createElement(Ne.a,or(c),{0:"Achat",1:"Vente"}[n]),r.a.createElement(Ne.a,Object.assign({},or(c),{align:"right"}),lt(l)),r.a.createElement(Ne.a,Object.assign({},or(c),{align:"right"}),lt(i)),r.a.createElement(Ne.a,Object.assign({},or(c),{align:"right",padding:"none"}),lt(c)),r.a.createElement(Ne.a,Object.assign({},or(c),{align:"right",padding:"none"}),r.a.createElement("div",{style:{paddingLeft:16}},rn(o))),r.a.createElement(Ne.a,{padding:"none"},r.a.createElement("div",{className:"cell-action"},r.a.createElement(Ge,{handleClick:s(t)}),r.a.createElement("div",{style:{width:8}}))))},lr=function(e){var t=e.id,n=e.art,a=e.time,i=e.tPrice,o=e.qty,c=e.uPrice,l=e.handleRemove;return r.a.createElement(xe.a,null,r.a.createElement(Ne.a,null,n),r.a.createElement(Ne.a,{align:"right"},lt(o)),r.a.createElement(Ne.a,{align:"right"},lt(c)),r.a.createElement(Ne.a,{align:"right",padding:"none"},lt(i)),r.a.createElement(Ne.a,{padding:"none"}),r.a.createElement(Ne.a,{align:"right",padding:"none",style:{paddingLeft:16}},rn(a)),r.a.createElement(Ne.a,{padding:"none"},r.a.createElement("div",{className:"cell-action"},r.a.createElement(Ge,{handleClick:l(t)}),r.a.createElement("div",{style:{width:8}}))))},sr=function(e){var t=e.articles,n=e.operations;return je(Sa(0,3),We("desc","salesCount"),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).map(function(t){return Object(v.a)({},t,{salesCount:e.reduce(function(e,n){var a=n.code,r=n.artId;return 1===a&&r===t.id?e+1:e},0)})})}}(J(n)),J)(t)},ur=We(),dr=je(J,function(e){return function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).reduce(function(t,n){return Object(v.a)({},t,Object(A.a)({},n[e],function(e,t,n){return Boolean(e[t[n]])?[].concat(Object(f.a)(e[t[n]]),[t]):[t]}(t,n,e)))},{})}}("artId")),pr=je(function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).flat()},Ie(_e),dr,J),fr=function(e,t){return function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e?n.filter(function(e){var n=e.time;return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Date,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Date;return e.getFullYear()===t.getFullYear()&&e.getMonth()===t.getMonth()&&e.getDate()===t.getDate()}(new Date(n),new Date(t))}):n}},Er=function(e,t,n){return je(Sa(0,3),ur,fr(t,n),pr)(e)},mr=function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).filter(function(e){return 1===e.code})},gr=function(e,t,n){return je(Sa(0,3),ur,mr,fr(t,n),pr)(e)},vr=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0,n=t.code,a=t.tCout;return 0!==n?[e,"stock achete"]:[Ye(e,a),"stock achete"]},hr=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0,n=t.code,a=t.tCout;return 1===n?[Ye(e,a),"stock vendu"]:[e,"stock vendu"]},Cr=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0,n=t.code,a=t.tCout;return 0===n?[Ye(e,a),"stock restant"]:[Xe(e,a),"stock restant"]},br=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0,n=t.code,a=t.tCout,r=t.tPrice;return 1===n&&a>0?[Ye(e,Xe(r,a)),"resultat"]:[e,"resultat"]},Or=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0,n=t.code,a=t.tPrice;return 1===n?[Ye(e,a),"chiffre d' affaire"]:[e,"chiffre d' affaire"]},Pr=function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).reduce(function(e,t){var n=Object(oe.a)(e,5),a=Object(oe.a)(n[0],1)[0],r=Object(oe.a)(n[1],1)[0],i=Object(oe.a)(n[2],1)[0],o=Object(oe.a)(n[3],1)[0],c=Object(oe.a)(n[4],1)[0];return[Or(a,t),br(r,t),hr(i,t),Cr(o,t),vr(c,t)]},[[0,"chiffre d' affaire"],[0,"resultat"],[0,"stock vendu"],[0,"stock restant"],[0,"stock achete"]])},Ar=function(e){var t=e.ui,n=e.forms,a=e.entities,r=e.core,i=e.settings;return{updateArticle:Le(t.updateArticle,{model:n.article}),article:Le(t.article,{model:n.article}),stock:Le(t.stock,{model:n.stock},a.articles),sale:Le(t.sale,{model:n.sale},a.articles),artSale:Le(t.artSale,{model:n.sale}),artStock:Le(t.artStock,{model:n.stock}),articleMenu:{menuProps:{anchorEl:r.select.anchor},article:r.select.article},statsMenu:{menuProps:{anchor:window.document.getElementById("stats"),open:t.statsMenu}},setting:D(i,"open",t.setting),about:D({},"open",t.about),deleteArt:Aa(t,r)}},Sr=Object(p.b)(function(e){var t,n,a,r,i,o=e.core,c=e.entities,l=e.forms,s=e.ui,u=e.subscription,d=e.settings;return{pageProps:Se(o,Te(u),l,s,d,"Tableau de bord",!0,c),statsProps:(t="/stats",a=c.operations,r=d.filterDay,i=d.currentDate,n=je(Pr,fr(r,i),pr)(a),{moreUrl:t,stats:n}),articlesDataCard:De("liste des articles","/articles","desc","time",ba,sr(c),[["des","Designation"],["uPrice","Prix","none"],["salesCount","Nbre de vente"],["time","Derniere modification","none"],["","","none"]]),operationsDataCard:De("liste des operations","/operations","desc","time",cr,Er(c.operations,d.filterDay,d.currentDate),[["art","Article"],["type","Type"],["qty","Quantit\xe9"],["uCout","Cout unitaire"],["tCout","Cout total","none"],["time","Date exacte","none"],["","","none"]]),salesDataCard:De("liste des ventes","/ventes","desc","time",lr,gr(c.operations,d.filterDay,d.currentDate),[["art","Article"],["qty","Quantit\xe9"],["uPrice","Prix unitaire"],["tPrice","Prix total","none"],[void 0,void 0,"none"],["time","Date","none"],[]]),dialogs:Ar({ui:s,forms:l,entities:c,core:o,settings:d})}},function(e){return{fpageProps:Ce(e),fstatsProps:{handleMoreClick:se(e,"STATS MENU")},farticlesDataCard:Pe(e,"ARTICLE"),foperationsDataCard:Pe(e,"STOCK"),fsalesDataCard:Pe(e,"SALE"),fdialogs:{farticle:Ae(e,"article","ARTICLE","ARTICLE"),fupdateArticle:Ae(e,"article","UPDATE ARTICLE","UPDATE ARTICLE"),fstock:Ae(e,"stock","STOCK","STOCK"),fsale:Ae(e,"sale","SALE","SALE"),fartSale:Ae(e,"sale","ARTICLE AND SALE","ART SALE"),fartStock:Ae(e,"stock","ARTICLE AND STOCK","ART STOCK"),fappMenu:ir(e),farticleMenu:Ca(e),fstatsMenu:{fmenuProps:{onClose:se(e,"STATS MENU")}},fdeleteArt:ha(e)}}})(function(e){var t=e.dialogs,n=void 0===t?{}:t,a=e.pageProps,i=e.fpageProps,o=Object(T.a)(e,["dialogs","pageProps","fpageProps"]);return r.a.createElement(Mn,Object.assign({id:"dashboard"},a,i),r.a.createElement("div",{className:"pad-8 snap-item"},r.a.createElement(_a,Object.assign({},o.statsProps,o.fstatsProps))),r.a.createElement("div",{className:"flex snap-item"},r.a.createElement("div",{id:"articles",className:"pad-8"},r.a.createElement(sa,Object.assign({},o.articlesDataCard,o.farticlesDataCard))),r.a.createElement("div",{id:"ventes",className:"pad-8 snap-item"},r.a.createElement(sa,Object.assign({},o.salesDataCard,o.fsalesDataCard)))),r.a.createElement("div",{id:"operations",className:"pad-8 snap-item"},r.a.createElement(sa,Object.assign({},o.operationsDataCard,o.foperationsDataCard))),r.a.createElement(rr,Object.assign({},n,o.fdialogs)))}),Dr=(n(341),function(e){var t=e.art,n=e.bCout,a=e.cCout,i=e.rCout,o=e.qty;return r.a.createElement(xe.a,null,r.a.createElement(Ne.a,null,t),r.a.createElement(Ne.a,{align:"right"},lt(o)),r.a.createElement(Ne.a,{align:"right"},lt(n)),r.a.createElement(Ne.a,{align:"right"},lt(a)),r.a.createElement(Ne.a,{align:"right"},lt(i)))}),yr=function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).map(function(e){return e.reduce(function(e,t){return{art:t.art,qty:0===t.code?e.qty+t.qty:e.qty-t.qty,bCout:0===t.code?e.bCout+t.tCout:e.bCout,cCout:1===t.code?e.cCout+t.tCout:e.cCout,rCout:0===t.code?e.rCout+t.tCout:e.rCout-t.tCout}},{bCout:0,cCout:0,rCout:0,qty:0})})},Tr=function(e,t,n,a,r){var i=t.order,o=t.orderBy,c=n.perPage,l=n.currentPage;return je(Sa(c*l,c*l+c),We(i,o),function(e){return e.filter(function(e){return e.bCout>0})},yr,Ie(_e),dr,J)(e)},jr=Object(p.b)(function(e){var t=e.entities,n=e.subscription,a=e.ui,r=e.sorting,i=e.forms,o=e.settings,c=e.core,l=e.slicing;return{pageProps:Se(c,Te(n),i,a,o,"Etat des stocks par article",!1,t),pagerProps:Pa(l,"operationsStats",dr(J(t.operations)).length),operationStatsProps:De("statistiques",void 0,r.operationStats.order,r.operationStats.orderBy,Dr,Tr(t.operations,r.operationStats,l.operationsStats,o.filterDay,o.currentDate),[["art","Article"],["qty","Quantit\xe9 restante"],["bCout","Stock achet\xe9"],["cCout","Stock vendu"],["rCout","Stock restant"]],!0),filter:D(l.operationsStats,"open",a.filter)}},function(e){return{fpageProps:Ce(e),fpagerProps:Ea(e),foperationStatsProps:Pe(e,"OPERATIONS STATS"),ffilter:ga(e,"operationsStats")}})(function(e){var t=e.pageProps,n=e.fpageProps,a=e.operationStatsProps,i=e.foperationStatsProps,o=Object(T.a)(e,["pageProps","fpageProps","operationStatsProps","foperationStatsProps"]);return r.a.createElement(Mn,Object.assign({},t,n),r.a.createElement("div",{className:"pad-8"},r.a.createElement(Qa,Object.assign({},o.pagerProps,o.fpagerProps))),r.a.createElement("div",{className:"pad-8"},r.a.createElement(sa,Object.assign({},a,i))),r.a.createElement(Ha,Object.assign({},o.filter,o.ffilter)))}),Ir=(n(342),function(e,t){var n=t.filterDay,a=t.currentDate;return je(fr(n,a),pr)(e).length}),Rr=function(e,t,n,a,r){var i=t.order,o=t.orderBy,c=n.perPage,l=n.currentPage;return je(Sa(l*c,l*c+c),We(i,o),fr(a,r),pr)(e)},Lr=Object(p.b)(function(e){var t=e.core,n=e.subscription,a=e.entities,r=e.forms,i=e.ui,o=e.settings,c=e.sorting,l=e.slicing;return{pageProps:Se(t,Te(n),r,i,o,"Liste des operations",!1,a),pagerProps:Pa(l,"operations",Ir(a.operations,o)),operationsProps:De("operations",void 0,c.stock.order,c.stock.orderBy,cr,Rr(a.operations,c.stock,l.operations,o.filterDay,o.currentDate),[["art","Article"],["code","Type"],["qty","Quantit\xe9"],["uCout","Cout unitaire"],["tCout","Cout total","none"],["time","Date","none"],[]]),dialogs:{stock:Le(i.stock,r.stock,a.articles),artStock:Le(i.artStock,r.stock),filter:Object(v.a)({open:i.filter},l.operations)}}},function(e){return{fpageProps:Ce(e),fpagerProps:Ea(e),foperationsProps:Pe(e,"STOCK"),fdialogs:{stock:Ae(e,"stock","STOCK","STOCK"),artStock:Ae(e,"stock","ARTICLE AND STOCK","ART STOCK"),filter:ga(e,"operations")}}})(function(e){var t=e.pageProps,n=e.operationsProps,a=e.fpageProps,i=e.foperationsProps,o=Object(T.a)(e,["pageProps","operationsProps","fpageProps","foperationsProps"]);return r.a.createElement(Mn,Object.assign({id:"operations-page"},t,a),r.a.createElement("div",{className:"pad-8"},r.a.createElement(Qa,Object.assign({},o.pagerProps,o.fpagerProps))),r.a.createElement("div",{className:"pad-8"},r.a.createElement(sa,Object.assign({},n,i))),r.a.createElement("div",{id:"dialogs"},r.a.createElement(nr,Object.assign({},o.dialogs.stock,o.fdialogs.stock)),r.a.createElement(tr,Object.assign({},o.dialogs.artStock,o.fdialogs.artStock)),r.a.createElement(Ha,Object.assign({},o.dialogs.filter,o.fdialogs.filter))))}),kr=(n(343),function(e){var t=e.art,n=e.qty,a=e.revenue,i=e.cCout,o=e.result;return r.a.createElement(xe.a,null,r.a.createElement(Ne.a,null,t),r.a.createElement(Ne.a,{align:"right"},lt(n)),r.a.createElement(Ne.a,{align:"right"},lt(a)),r.a.createElement(Ne.a,{align:"right"},lt(i)),r.a.createElement(Ne.a,{align:"right"},lt(o)))}),Nr=function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).map(function(e){return e.reduce(function(e,t){return{art:t.art,qty:1===t.code?t.qty+e.qty:e.qty,revenue:1===t.code?e.revenue+t.tPrice:e.revenue,bCout:0===t.code?e.bCout+t.tCout:e.bCout,cCout:1===t.code?e.cCout+t.tCout:e.cCout,result:1===t.code&&t.tCout>0?e.result+t.tPrice-t.tCout:e.result}},{revenue:0,cCout:0,bCout:0,result:0,qty:0})})},qr=function(e,t,n,a,r){var i=t.order,o=t.orderBy,c=n.perPage,l=n.currentPage;return je(Sa(c*l,c*l+c),We(i,o),function(e){return e.filter(function(e){return e.result>0})},Nr,Ie(fr(a,r)),Ie(_e),dr,J)(e)},xr=Object(p.b)(function(e){var t=e.entities,n=e.subscription,a=e.ui,r=e.settings,i=e.sorting,o=e.forms,c=e.core,l=e.slicing;return{pageProps:Se(c,Te(n),o,a,r,"Resultats par article",!1,t),pagerProps:Pa(l,"resultStats",dr(J(t.operations)).length),resultStatsProps:De("statistiques",void 0,i.resultStats.order,i.resultStats.orderBy,kr,qr(t.operations,i.resultStats,l.resultStats,r.filterDay,r.currentDate),[["art","Article"],["qty","Quantit\xe9 vendue"],["revenue","Chiffre d'affaire"],["cCout","Stock vendu"],["result","Resultat"]],!0),filter:D(l.resultStats,"open",a.filter)}},function(e){return{fpageProps:Ce(e),fpagerProps:Ea(e),fresultStatsProps:Pe(e,"RESULTS STATS"),ffilter:ga(e,"resultStats")}})(function(e){var t=e.pageProps,n=e.fpageProps,a=e.resultStatsProps,i=e.fresultStatsProps,o=Object(T.a)(e,["pageProps","fpageProps","resultStatsProps","fresultStatsProps"]);return r.a.createElement(Mn,Object.assign({},t,n),r.a.createElement("div",{className:"pad-8"},r.a.createElement(Qa,Object.assign({},o.pagerProps,o.fpagerProps))),r.a.createElement("div",{className:"pad-8"},r.a.createElement(sa,Object.assign({},a,i))),r.a.createElement(Ha,Object.assign({},o.filter,o.ffilter)))}),Br=(n(344),function(e){var t=e.art,n=e.mPrice,a=e.qty,i=e.revenue;return r.a.createElement(xe.a,null,r.a.createElement(Ne.a,null,t),r.a.createElement(Ne.a,{align:"right"},lt(a)),r.a.createElement(Ne.a,{align:"right"},lt(n)),r.a.createElement(Ne.a,{align:"right"},lt(i)))}),wr=function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).map(function(e){return e.reduce(function(e,t,n,a){return{art:t.art,qty:e.qty+t.qty,revenue:e.revenue+t.tPrice,mPrice:a.reduce(function(e,t){return e+t.uPrice},0)/a.length}},{qty:0,revenue:0,mPrice:0})})},Mr=function(e,t){var n=t.filterDay,a=t.currentDate;return je(function(e){return e.filter(function(e){return e.revenue>0})},wr,dr,mr,fr(n,a),J)(e).length},Ur=function(e,t,n,a,r){var i=t.order,o=t.orderBy,c=n.perPage,l=n.currentPage;return je(Sa(c*l,c*l+c),We(i,o),function(e){return e.filter(function(e){return e.revenue>0})},wr,dr,mr,fr(a,r),J)(e)},Gr=Object(p.b)(function(e){var t=e.entities,n=e.subscription,a=e.settings,r=e.ui,i=e.sorting,o=e.core,c=e.forms,l=e.slicing;return{pageProps:Se(o,Te(n),c,r,a,"Chiffre d'affaire par article",!1,t),pagerProps:Pa(l,"salesStats",Mr(t.operations,a)),saleStatsProps:De("statistiques",void 0,i.saleStats.order,i.saleStats.orderBy,Br,Ur(t.operations,i.saleStats,l.salesStats,a.filterDay,a.currentDate),[["art","Article"],["qty","Quantit\xe9 vendue"],["mPrice","Prix moyen"],["revenue","Chiffre d'affaire"]],!0),filter:D(l.salesStats,"open",r.filter)}},function(e){return{fpageProps:Ce(e),fpagerProps:Ea(e),fsaleStatsProps:Pe(e,"SALES STATS"),ffilter:ga(e,"salesStats")}})(function(e){var t=e.pageProps,n=e.fpageProps,a=e.saleStatsProps,i=e.fsaleStatsProps,o=Object(T.a)(e,["pageProps","fpageProps","saleStatsProps","fsaleStatsProps"]);return r.a.createElement(Mn,Object.assign({},t,n),r.a.createElement("div",{className:"pad-8"},r.a.createElement(Qa,Object.assign({},o.pagerProps,o.fpagerProps))),r.a.createElement("div",{className:"pad-8"},r.a.createElement(sa,Object.assign({},a,i))),r.a.createElement(Ha,Object.assign({},o.filter,o.ffilter)))}),Fr=(n(345),function(e,t){var n=t.filterDay,a=t.currentDate;return je(mr,fr(n,a),J)(e).length}),Kr=function(e,t,n,a){var r=t.order,i=t.orderBy,o=n.perPage,c=n.currentPage,l=a.filterDay,s=a.currentDate;return je(Sa(c*o,c*o+o),We(r,i),Ie(function(e){var t=e.tPrice,n=e.qty,a=Object(T.a)(e,["tPrice","qty"]);return Object(v.a)({},a,{tPrice:t,qty:n,uPrice:t/n})}),mr,fr(l,s),J)(e)},Vr=[["/dashboard",Sr],["/articles/:id",fa],["/articles",Xa],["/operations-stats",jr],["/operations",Lr],["/resultats-stats",xr],["/ventes-stats",Gr],["/ventes",Object(p.b)(function(e){var t=e.core,n=e.subscription,a=e.entities,r=e.settings,i=e.ui,o=e.forms,c=e.sorting,l=e.slicing;return{pageProps:Se(t,Te(n),o,i,r,"Liste de ventes",!1,a),pagerProps:Pa(l,"sales",Fr(a.operations,r)),salesProps:De("liste de ventes",void 0,c.sale.order,c.sale.orderBy,lr,Kr(a.operations,c.sale,l.sales,r),[["art","Article"],["qty","Quantit\xe9"],["uPrice","Prix unitaire"],["tPrice","Prix total","none"],[void 0,void 0,"none"],["time","Date","none"],[]]),dialogs:{sale:Le(i.sale,{model:o.sale},a.articles),artSale:Le(i.artSale,{model:o.sale}),filter:Object(v.a)({open:i.filter},l.sales)}}},function(e){return{fpageProps:Ce(e),fpagerProps:Ea(e),fsalesProps:Pe(e,"SALE"),fdialogs:{sale:Ae(e,"sale","SALE","SALE"),artSale:Ae(e,"sale","ARTICLE AND SALE","ART SALE"),filter:ga(e,"sales")}}})(function(e){var t=e.pageProps,n=e.fpageProps,a=e.salesProps,i=e.fsalesProps,o=Object(T.a)(e,["pageProps","fpageProps","salesProps","fsalesProps"]);return r.a.createElement(Mn,Object.assign({id:"sales-page"},t,n),r.a.createElement("div",{className:"pad-8"},r.a.createElement(Qa,Object.assign({},o.pagerProps,o.fpagerProps))),r.a.createElement("div",{className:"pad-8"},r.a.createElement(sa,Object.assign({},a,i))),r.a.createElement("div",{id:"dialogs"},r.a.createElement(Ta,Object.assign({},o.dialogs.sale,o.fdialogs.sale)),r.a.createElement(er,Object.assign({},o.dialogs.artSale,o.fdialogs.artSale)),r.a.createElement(Ha,Object.assign({},o.dialogs.filter,o.fdialogs.filter))))})]],Wr=function(){return r.a.createElement(ce.a,null,r.a.createElement(le.d,null,r.a.createElement(le.a,{exact:!0,from:"/",to:"/dashboard"}),Vr.map(function(e,t){var n=Object(oe.a)(e,2),a=n[0],i=n[1];return r.a.createElement(le.b,{key:t,path:a,component:i})})))},Qr=(n(346),function(e){function t(){return Object(c.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){ie.dispatch({type:"SET FIRST VISIT"})}},{key:"render",value:function(){return r.a.createElement(p.a,{store:ie},r.a.createElement(Wr,null))}}]),t}(r.a.Component)),zr=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function Jr(e,t){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}}).catch(function(e){console.error("Error during service worker registration:",e)})}o.a.render(r.a.createElement(Qr,null),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",function(){var t="".concat("","/service-worker.js");zr?(function(e,t){fetch(e).then(function(n){var a=n.headers.get("content-type");404===n.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):Jr(e,t)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(t,e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")})):Jr(t,e)})}}()}},[[167,1,2]]]);
//# sourceMappingURL=main.9623a7d6.chunk.js.map